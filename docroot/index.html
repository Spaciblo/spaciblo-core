<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

		<title>Spaciblō</title>

		<link rel="stylesheet" href="/api/static/css/spaciblo-components.css" type='text/css'>

		<script src="/api/static/js/potassium.js"></script>
		<script src="/api/static/js/three.min.js"></script>
		<script src="/api/static/js/gltf-loader.js"></script>
		<script src="/api/static/js/be-api.js"></script>
		<script src="/api/static/js/spaciblo-api.js"></script>
		<script src="/api/static/js/spaciblo-three.js"></script>
		<script src="/api/static/js/spaciblo-components.js"></script>
	</head>
	<body>
		<div id="page-component">
			<h1>Spaciblō</h1>
		</div>
		<script>
			function initPage(){
				window.spaces = new be.api.Spaces()
				window.pageComponent = new spaciblo.components.SplashPageComponent(window.spaces)
				document.getElementById('page-component').appendChild(window.pageComponent.el)
				window.pageComponent.handleAddedToDOM()
				window.spaces.fetch().catch(err => {
					console.error("Could not fetch spaces", err)
				})
			}
			document.addEventListener("schema-populated", initPage)
		</script>
	</body>
</html>